---
title: Настройки SIP/GSM
description: 
published: true
date: 2022-08-10T05:42:39.731Z
tags: 
editor: markdown
dateCreated: 2021-04-06T15:44:29.235Z
---

# SIP
## Основное

<a id="port_number"></a>*Порт*
- Порт для SIP подключений. По умолчанию 5060.

<a id="tcp_enable"></a>*Включить TCP*
- По умолчанию SIP использует транспортный протокол UDP. В некоторых случаях может потребоваться транспортный протокол TCP.

*Порт (TCP)*
- Порт для соединения по протоколу TCP.

*Транспорт по умолчанию*
- Выбор приоритетного транспортного протокола (UDP или TCP).

*Проверять доступность подключения*
- Применяется, главным образом, для проверки доступности внешних линий и устройств за NAT.

*Периодичность проверки*
- Периодичность проверки доступности подключения.

## <a id="media"></a>Медиа

*Диапазон портов для RTP*
- Аудиопоток передается по протоколу RTP. Требуется широкий диапазон доступных UDP портов. По умолчанию это 10000-20000. Может потребоваться его изменить, когда АТС находится за NAT и необходимо пробросить порты на нее для направления аудиопотока.

*Кодеки*
- Кодеки определяют то, каких образом будет сжат аудиопоток перед передачей: насколько сильное сжатие и потеря качества. Список поддерживаемых кодеков у каждого устройства свой. В большинстве устройств есть поддержка как минимум кодеков g711 (alaw, ulaw) и gsm.

*DTMF*
- DTMF — тональные сигналы. Часто используются для управления функциями АТС, например, при донаборе номера или переводе вызова. Основным методом передачи DTMF в SIP является передача по спецификации rfc2833. Некоторые устройства могут не поддерживать данный метод.

## NAT

*Использовать NAT*
- NAT — механизм, позволяющий преобразовывать адреса транзитных пакетов между сетями. АТС необходимо «знать» как производить преобразование в случае, если она находится за маршрутизатором.

*Внешний IP адрес*
- Тип внешнего IP адреса. Если внешний адрес не указывать, АТС попытается определить параметры преобразования автоматически. Во многих случаях этого не достаточно. Можно указать статический или динамический внешний IP-адрес.

*Поддержка STUN/TURN*
- Протокол STUN позволяет клиенту за NAT определить внешний IP-адрес, способ трансляции  адреса и порта во внешней сети, что позволяет обеспечить прохождение сессии NAT. Протокол TURN позволяет клиенту за NAT получать входящие данные через TCP или UDP соединения.

*IP*
- Внешний статический IP-адрес.

*Хост*
- Внешнее имя хоста (домена). Можно также указать порт.

*Период обновления*
- Период обновления информации об IP адресе, связанным с хостом.

*Внешний IP-адрес для RTP*
- Внешний адрес для RTP, если отличается от указанного для SIP (поле IP).

*Локальные сети*
- Список сетей, которые АТС должна воспринимать как локальные.

*Опции NAT*
- Опции преобразования NAT: использовать rport, даже если не указан; отправлять RTP пакеты на тот же порт, игнорируя информацию от SDP. По умолчанию используются обе опции преобразования.

*Поддержка STUN/TURN*
- Поддержка серверов STUN и/или TURN для обхода NAT.

## Безопасность

*Фильтры IP-адресов (белые списки)*
- Настройка позволяет указать клиентам с какими адресами или из какой сети разрешено взаимодействовать с АТС. Настройка не применяется автоматически ко всем внутренним номерам или внешним линиям. Необходимо включить ее в настройках соответствующих внешних линий или номеров.

*Разрешить гостевые SIP вызовы*
- Позволяет получать входящие вызовы от незарегистрированных абонентов. Может быть использована для проверки доступности АТС. Крайне не рекомендуется для повседневного использования.

## Прочее

*Другие настройки*
- Здесь можно указать дополнительные параметры для Asterisk (sip.conf, секция general).

# GSM
## Основное

*Период опроса*
- Период опроса GSM устройств. Не рекомендуется уменьшать значение, т.к. это может приводить к непериодическому пропаданию звука при разговоре. Большое значение замедляет определение устройств.

*Усиление/ослабление громкости*
- Коррекция уровня громкости.

*Распознавать DTMF*
- DTMF — тональные сигналы. Часто используются для управления функциями АТС, например, при донаборе номера или переводе вызова.

*Тип распознавания DTMF*
- Для GSM поддерживаются 2 метода распознавания: внутриполосный с relax-значениями (рекомендуется) и традиционный внутриполосный.

*Распознавание DTMF*
- Параметры, влияющие на процесс распознавания DTMF. При возникновении проблем с распознаванием в первую очередь попробуйте уменьшить мин. длительность DTMF.

## Прочее

*Другие настройки*
- Здесь можно указать дополнительные параметры для Asterisk (dongle.conf, секция defaults).
